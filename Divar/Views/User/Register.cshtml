@model User

<link href="~/css/Register.css" rel="stylesheet" />

<b><h1 style="text-align: center;">
    ثبت نام کاربر
</h1></b>



<form id="registrationForm" asp-action="Register" method="post">
    <div class="label-group">
        <div>
            <label>نام خانوادگی</label>
            <input asp-for="LastName" />
            <span class="error-message" style="display:none;"></span>
        </div>
        <div>
            <label>نام</label>
            <input asp-for="FirstName" />
            <span class="error-message" style="display:none;"></span>
        </div>
    </div>

    <div class="label-group">
        <div>
            <label>ایمیل</label>
            <input asp-for="Email" />
            <span class="error-message" style="display:none;"></span>
        </div>
        <div>
            <label>شماره تلفن</label>
            <input asp-for="PhoneNumber" />
            <span class="error-message" style="display:none;"></span>
        </div>
    </div>

    <div class="label-group">
        <div>
            <label>رمز عبور</label>
            <input asp-for="PasswordHash" type="password" />
            <span class="error-message" style="display:none;"></span>
        </div>
    </div>

    <button type="submit">ثبت‌نام</button>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#registrationForm').on('submit', function (e) {
            let isValid = true;
            $('.error-message').text('').hide(); // Reset error messages and hide them

            // Check each input field
            $(this).find('input').each(function () {
                let fieldName = $(this).siblings('label').text(); // Get the label text
                if ($(this).val().trim() === '') {
                    isValid = false;
                    $(this).siblings('.error-message').text('پر کردن فیلد ' + fieldName + ' الزامی است  ').show(); // Display error message
                }
            });

            // If there are empty fields, prevent form submission
            if (!isValid) {
                e.preventDefault(); // Prevent form submission
            }
        });
    });
</script>
